{"componentChunkName":"component---src-templates-blog-post-js","path":"/typefaces-easiest-way-to-self-host-fonts/","result":{"data":{"site":{"siteMetadata":{"author":"Luu Tuan Anh","homeCity":"Hanoi, Vietnam"}},"markdownRemark":{"html":"<p>Once upon a time, I thought self-hosting web fonts was intimidating. It\nseemed nice but the complexities were too much.  I needed to create a\nbunch of weird files (eot?), write weird css syntax (bullet proof\nwhat?), etc. Much easier to drop a little Google Fonts <code class=\"language-text\">&lt;link&gt;</code> in my\nhtml’s <code class=\"language-text\">&lt;head&gt;</code> and call it a day.</p>\n<p>But as time went on, I found some really nice advantages to hosting your\nfonts.</p>\n<ul>\n<li>Self-hosting is <em>significantly faster</em>. Loading a typeface from Google\nFonts or other hosted font service adds <em>an extra (blocking) network\nrequest</em>. <a href=\"https://github.com/reactiflux/reactiflux.com/pull/21\">In my\ntesting</a>, I’ve\nfound replacing Google Fonts with a self-hosted font can improve a\nsite’s speedindex by ~300 miliseconds on desktop and 1+ seconds on 3g.\nThis is a big deal. YMMV on exact numbers but directionally, self-hosting\nis faster <em>and</em> importantly opens the door for further optimizations.</li>\n<li>Your <em>fonts load offline</em>. It’s annoying to start working on a web\nproject on the train or airplane and see your interface screwed up\nbecause you can’t access Google fonts. I remember once being in this\nsituation and doing everything possible to avoid reloading a project as\nI knew I’d lose the fonts and be forced to stop working.</li>\n<li><em>Go beyond Google Fonts</em>. Some of my favorite typefaces aren’t on\nGoogle Fonts like <a href=\"https://01.org/clear-SANS\">Clear Sans</a>, <a href=\"https://www.cooperhewitt.org/open-source-at-cooper-hewitt/cooper-hewitt-the-typeface-by-chester-jenkins/\">Cooper\nHewitt</a>,\nand\n<a href=\"https://www.behance.net/gallery/8018673/ALEO-Free-Font-Family\">Aleo</a>.</li>\n</ul>\n<p><em>Cool typefaces not on Google Fonts</em></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/luutuananh/static/ff6bfe19c67b781911c4705737921927/07a9c/clear-sans.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 5.405405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAM0lEQVQI12MwMjJyBGIHIFYDYjsgtgRiDSB2AmI/KG0KxG5A7ApV6wJV6wRlWwCxF0gvAJlSEJQTDEbuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Clear Sans typeface\"\n        title=\"\"\n        src=\"/luutuananh/static/ff6bfe19c67b781911c4705737921927/fcda8/clear-sans.png\"\n        srcset=\"/luutuananh/static/ff6bfe19c67b781911c4705737921927/12f09/clear-sans.png 148w,\n/luutuananh/static/ff6bfe19c67b781911c4705737921927/e4a3f/clear-sans.png 295w,\n/luutuananh/static/ff6bfe19c67b781911c4705737921927/fcda8/clear-sans.png 590w,\n/luutuananh/static/ff6bfe19c67b781911c4705737921927/efc66/clear-sans.png 885w,\n/luutuananh/static/ff6bfe19c67b781911c4705737921927/c83ae/clear-sans.png 1180w,\n/luutuananh/static/ff6bfe19c67b781911c4705737921927/07a9c/clear-sans.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/07a9c/cooper-hewitt.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 5.405405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAANUlEQVQI12MwMjKyBGITQ0NDMyCtCcTmQGwBxHpAMUsgBrOB2BqIvaDqjYHiDiAM5ZtD5V0Ag9YQEr0Kp4kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cooper Hewitt typeface\"\n        title=\"\"\n        src=\"/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/fcda8/cooper-hewitt.png\"\n        srcset=\"/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/12f09/cooper-hewitt.png 148w,\n/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/e4a3f/cooper-hewitt.png 295w,\n/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/fcda8/cooper-hewitt.png 590w,\n/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/efc66/cooper-hewitt.png 885w,\n/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/c83ae/cooper-hewitt.png 1180w,\n/luutuananh/static/ecec0dc326a532d20cc5ee801212c90b/07a9c/cooper-hewitt.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/07a9c/aleo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 5.405405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAMklEQVQI12MwMjJyAGJbINaG0uFAbAfE1kDsA8UgcU8g9gNiV6i8NxD7ArETEDtDxdwAqfwQ/p0RUaYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Aleo typeface\"\n        title=\"\"\n        src=\"/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/fcda8/aleo.png\"\n        srcset=\"/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/12f09/aleo.png 148w,\n/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/e4a3f/aleo.png 295w,\n/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/fcda8/aleo.png 590w,\n/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/efc66/aleo.png 885w,\n/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/c83ae/aleo.png 1180w,\n/luutuananh/static/e494b39ca8dfd833b35e88d3904438d8/07a9c/aleo.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>The awakening</h2>\n<p>Last fall, a client asked me to use some commercial typefaces for a\n<a href=\"https://github.com/gatsbyjs/gatsby\">Gatsby</a> site I was building. After\nreading up on the process, I realized that\n<a href=\"https://webpack.js.org\">webpack</a> actually did most of the work.  You\nsimply present it a css file pointing at the various font files and the\ncss and files will all get included in your final site build. No\nproblemo.</p>\n<p>It then occurred to me how nice it’d be if you could install typefaces\nthrough NPM. The last 4-5 years of my life have seen the steady\naccumulation of more and more package.json files with longer and longer\nlists of NPM package dependencies for my various node and web projects.\nWhich I absolutely love. Compared to the bad ol’ days of checking in\ndependencies of dubious origin (or worse, having to follow a generally\nout-of-date INSTALL.md), managing everything with NPM is beautiful.</p>\n<p>With typefaces as NPM packages, you could do something like <code class=\"language-text\">npm install\n--save typeface-open-sans</code> which would install a package containing both\nthe font-face css and font files and then in your project’s entry file\nadd <code class=\"language-text\">require(&#39;typeface-open-sans)</code> and… you’re done.</p>\n<p>Perhaps if self-hosting fonts wasn’t so annoying I’d do it more…</p>\n<p>So I wrote a quick and dirty script to create packages for the typefaces\nused on this blog\n(<a href=\"http://www.huertatipografica.com/en/fonts/alegreya-ht-pro\">Alegreya</a>\nand <a href=\"http://www.huertatipografica.com/en/fonts/alegreya-sans-ht\">Alegreya\nSans</a>)\nand… it worked! I added a few more typefaces for some other projects\nand things were looking really good.</p>\n<p>Then I put the project aside for several months as I was focusing on\nmaking some major feature additions to Gatsby (blog post coming soon)\nbut last week, jumped back to this for several days and upgraded my\nGoogle Fonts package creator script and added a Font Squirrel package\ncreator script as well and this morning published ~825 new typeface\npackages to NPM.</p>\n<p>I’m super excited about this. I really enjoy finding <a href=\"/luutuananh/gatsby-open-source-work/\">high-leverage\nways</a> to dramatically improve our various\nweb-dev workflows. When something becomes 10x faster or easier, this\nfrees us to build new and better things.</p>\n<p>Building for the web involves navigating dozens of interconnected\nworkflows. The last few years have seen workflow after workflow get\nautomated. And the exciting thing is that each new automation enables\nworkflows up and down-stream from it to be automated as well.  So just\nas Typefaces builds on previous automations such as Webpack and NPM, now\nthat we have automated this part of our workflow (self-hosting), it\nopens the door for <a href=\"https://www.zachleat.com/web/comprehensive-webfonts/\">automating futher font-loading\noptimizations</a>.</p>\n<p>Let me know what you think and please <a href=\"/luutuananh/gatsby-open-source-work/\">come over to\nGithub</a> to check out the project (and help\nout if you’d like).</p>\n<p>And if you’re using Google Fonts &#x26; webpack, save your users some time\n(or stop driving them away) by swapping in Typefaces.</p>\n<p><a href=\"https://github.com/KyleAMathews/typefaces\">https://github.com/KyleAMathews/typefaces</a></p>","excerpt":"Once upon a time, I thought self-hosting web fonts was intimidating. It\nseemed nice but the complexities were too much.  I needed to create…","fields":{"tagSlugs":["/tags/open-source/"]},"frontmatter":{"title":"Typefaces: The easiest way to self-host open-source fonts","tags":["open source"],"date":"January 31, 2017"}}},"pageContext":{"slug":"/typefaces-easiest-way-to-self-host-fonts/"}}}